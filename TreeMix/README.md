Для запуска программы существует уже готовый [Docker-контейнер](https://gitlab.com/stasundr/nivkhi-geno-17/blob/master/Dockerfile).
 1. Чтобы посмотерть уже готовые образы контейнеров набираем sudo docker images
 2. Заходим в подготовленный docker контейнер: sudo docker run -it -v ~/datasets:/data --rm treemixs
 3. Входными данными для treemix выступает таблица с частотами аллелей для кадого ОНП в определенной популяции. Длина столбца равна количеству ОНП.

 Пример:
 Even Vietnamese Hakas
 1,13 5,65 1,21
 0,60 1,27 0,12
 5,15 1,1 24,36

  Чтобы получить данный файл используем программу Plink. Предварительно посредством convertfs переводим генетические данные из формата geno в bim, bed, fam-форматы. Fam-файл необходимо отредактировать (вместо первой колонки с нумирацией вставить название популяции, к которой принадлежит образец), пример скрипта - clust.js. Затем запускаем Plink:

  plink --bfile ~/path/to/myfile/ --freq  --allow-no-sex --family --out ~/path/to/newfile

  gzip newfile


В итоге получаем таблицу, которая является входным файлом для скрипта plink2treemix.py. 
Запускаем treemix: 
treemix -i ~/path/to/newfile.gz -k 500 -root Yoruba -m 3 -o ~/path/to/output


Чтобы исключить некоторые популяции из таблицы после использования скрипта plink2treemix.py можно применить скрипт remove_pop.js:

Чтобы каждый раз не запускать тримикс, пишем скрипт treemix.js. С помощью него получаем по пять запусков на каждое определенное число миграций. В скрипте используются дополнительные пакеты. Чтобы они работали в docker-контейнере необходимо использовать программу [pkg](https://github.com/zeit/pkg). 
1. npm install -g pkg (устанавливаем саму программу)
2. npm init -y namescript.js (создаем json)
3. pkg namescript.js (упаковывает скрипт для разных ОП)
После этого наш скрипт будет работать в docker.
Для визуализации результатов скрипта ипользуем R. С сервера в  папку на рабочем столе скачиваем plotting_funcs.R и в нее же загружаем результаты программы.
